# Too many lists!

December 7, 2025

## Last time

- You can't move a field out of a borrowed object, either `& obj` or `&mut obj`, because the object still needs to be intact when it's returned to its owner.
- `std::mem::replace` does a heist where it swaps out the value you want to move and swaps in a replacement. It seems to me unlikely to be optimized out, since I am familiar with borrowing by _functions_ and they don't know their calling context.

## Previously

- A workspace contains crates, and the crates can inherit _some_ variables defined in the workspace, like `package` and `dependencies` and `dev-dependencies`. Package stuff is version number, description... metadata.
- The `criterion` package, ported from Haskell, is for profiling
- Can run `cargo fmt` and `cargo clippy` with `pre-commit`. This feels a bit flaky to me; I seem to need to manually run `cargo fmt` to actually make the changes, before any commit will go through. Different usability than Python. Maybe there is a simple fix.

# Resuming lists

All that stuff about moving and borrowing was pretty intense last time but actually I'm feeling ok about it right now. I think you just have to look carefully at what you're trying to accomplish.

I made `too-many-lists/src/first_reviewed.rs` to try to make a list again, on my own. By the way, `cargo test <match something in test name> -- --no-capture` lets me see the test output and can somewhat control which tests actually run.

...

## Wrote my own

Big accomplishment here tonight: I wrote `first_rewritten_for_practice.rs`, trying to rewrite the `first.rs` module without looking at it. I didn't _quite_ get it right, I had to peek at the `std::mem::replace` in the `push` function, but I got `pop` working on my own and then I wrote a `peek` and I'm passing tests! This is great progress for a work night. :-) :-) :-)

